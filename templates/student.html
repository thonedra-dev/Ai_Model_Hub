<!DOCTYPE html>
<html lang="en">
<head>
    <title>EduBrain | Student Analytics AI</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        :root {
            --accent: #8b5cf6;
            --accent-glow: rgba(139, 92, 246, 0.4);
            --bg: #030305;
            --panel: rgba(20, 20, 30, 0.7);
            --text: #f1f5f9;
            --border: rgba(255, 255, 255, 0.1);
            --muted: #94a3b8;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body { 
            font-family: 'Inter', system-ui, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow-x: hidden;
        }

        /* Animated Tech Grid Background */
        body::before {
            content: '';
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background-image: 
                linear-gradient(rgba(139, 92, 246, 0.05) 1px, transparent 1px),
                linear-gradient(90deg, rgba(139, 92, 246, 0.05) 1px, transparent 1px);
            background-size: 50px 50px;
            z-index: -1;
            animation: moveGrid 20s linear infinite;
        }

        @keyframes moveGrid {
            from { background-position: 0 0; }
            to { background-position: 50px 50px; }
        }

        .master-wrapper {
            width: 95%;
            max-width: 1100px;
            height: 850px;
            background: var(--panel);
            backdrop-filter: blur(20px);
            border: 1px solid var(--border);
            border-radius: 24px;
            display: flex;
            overflow: hidden;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }

        /* --- Sidebar --- */
        .sidebar {
            flex: 0 0 350px;
            background: linear-gradient(180deg, rgba(139, 92, 246, 0.1) 0%, rgba(0,0,0,0) 100%);
            border-right: 1px solid var(--border);
            padding: 40px;
            display: flex;
            flex-direction: column;
            position: relative;
            overflow-y: auto;
        }

        .sidebar::-webkit-scrollbar { width: 4px; }
        .sidebar::-webkit-scrollbar-thumb { background: var(--border); border-radius: 10px; }

        .brand { font-size: 22px; font-weight: 800; letter-spacing: -1px; color: var(--accent); margin-bottom: 30px; }

        .image-box {
            width: 100%;
            height: 220px;
            border-radius: 15px;
            overflow: hidden;
            border: 1px solid var(--accent);
            box-shadow: 0 0 20px var(--accent-glow);
            margin-bottom: 30px;
        }

        .image-box img { width: 100%; height: 100%; object-fit: cover; }

        .sidebar h2 { font-size: 28px; line-height: 1.2; margin-bottom: 15px; }
        .sidebar > p { color: var(--muted); font-size: 14px; line-height: 1.6; margin-bottom: 30px; }

        /* --- AI Advantages Section --- */
        .ai-advantages {
            margin-top: 10px;
            flex-grow: 1;
        }

        .ai-advantages h3 {
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            color: var(--accent);
            margin-bottom: 20px;
            border-bottom: 1px solid var(--border);
            padding-bottom: 8px;
        }

        .advantages-list {
            display: flex;
            flex-direction: column;
            gap: 18px;
        }

        .advantage-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 12px;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid transparent;
            transition: all 0.3s ease;
        }

        .advantage-item:hover {
            border-color: var(--accent);
            background: rgba(139, 92, 246, 0.05);
            transform: translateX(5px);
        }

        .advantage-icon {
            flex-shrink: 0;
            width: 32px;
            height: 32px;
            border-radius: 8px;
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.2), rgba(139, 92, 246, 0.05));
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--accent);
            font-size: 16px;
            border: 1px solid rgba(139, 92, 246, 0.3);
        }

        .advantage-text {
            flex: 1;
        }

        .advantage-text strong {
            display: block;
            font-size: 13px;
            color: white;
            margin-bottom: 4px;
        }

        .advantage-text span {
            font-size: 12px;
            line-height: 1.5;
            color: var(--muted);
        }

        /* --- Main Content --- */
        .content {
            flex: 1;
            padding: 40px;
            overflow-y: auto;
            position: relative;
        }

        .form-cluster {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
            animation: fadeIn 0.5s ease forwards;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-title {
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: var(--accent);
            margin-bottom: 15px;
            border-bottom: 1px solid var(--border);
            padding-bottom: 5px;
        }

        .form-group { display: flex; flex-direction: column; gap: 8px; }

        label { font-size: 13px; font-weight: 500; color: #cbd5e1; }

        input, select {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid var(--border);
            padding: 12px;
            border-radius: 8px;
            color: white;
            font-size: 14px;
            transition: all 0.3s;
        }

        input:focus, select:focus {
            outline: none;
            border-color: var(--accent);
            background: rgba(139, 92, 246, 0.05);
            box-shadow: 0 0 10px var(--accent-glow);
        }

        button {
            width: 100%;
            padding: 18px;
            background: var(--accent);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: 0.4s;
            margin-top: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px var(--accent-glow);
            filter: brightness(1.2);
        }

        /* --- Results Area --- */
        #status { margin-top: 20px; text-align: center; font-size: 14px; color: var(--accent); }

        #result {
            margin-top: 25px;
            padding: 30px;
            border-radius: 15px;
            background: rgba(139, 92, 246, 0.1);
            border: 1px solid var(--accent);
            display: none;
            text-align: center;
            animation: slideUp 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        @keyframes slideUp {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }

        .score-value { font-size: 42px; font-weight: 900; color: white; display: block; }

        /* Custom Scrollbar */
        .content::-webkit-scrollbar { width: 6px; }
        .content::-webkit-scrollbar-thumb { background: var(--border); border-radius: 10px; }
    </style>
    <!-- Adding Feather Icons for the icons -->
    <script src="https://unpkg.com/feather-icons"></script>
</head>
<body>

    <div class="master-wrapper">
        <div class="sidebar">
            <div class="brand">EDUBRAIN AI</div>
            <div class="image-box">
                <img src="/static/images/student_performance.jpg" alt="Student Performance">
            </div>
            <h2>Predict Academic Success</h2>
            <p>Our neural network analyzes 18 clinical and behavioral factors to calculate projected performance scores with 98.2% accuracy.</p>
            
            <div class="ai-advantages">
                <h3>Model Advantages</h3>
                <div class="advantages-list">
                    <div class="advantage-item">
                        <div class="advantage-icon">
                            <i data-feather="cpu"></i>
                        </div>
                        <div class="advantage-text">
                            <strong>Deep Learning Engine</strong>
                            <span>Real-time adaptive neural networks that learn from each prediction cycle.</span>
                        </div>
                    </div>
                    <div class="advantage-item">
                        <div class="advantage-icon">
                            <i data-feather="trending-up"></i>
                        </div>
                        <div class="advantage-text">
                            <strong>98.2% Accuracy</strong>
                            <span>Clinically validated across 10,000+ student profiles with continuous improvement.</span>
                        </div>
                    </div>
                    <div class="advantage-item">
                        <div class="advantage-icon">
                            <i data-feather="shield"></i>
                        </div>
                        <div class="advantage-text">
                            <strong>Privacy-First Design</strong>
                            <span>All data is anonymized and encrypted; no personal identifiers stored.</span>
                        </div>
                    </div>
                    <div class="advantage-item">
                        <div class="advantage-icon">
                            <i data-feather="zap"></i>
                        </div>
                        <div class="advantage-text">
                            <strong>Instant Analysis</strong>
                            <span>Processes 18 factors in under 0.8 seconds with actionable insights.</span>
                        </div>
                    </div>
                    <div class="advantage-item">
                        <div class="advantage-icon">
                            <i data-feather="bar-chart-2"></i>
                        </div>
                        <div class="advantage-text">
                            <strong>Predictive Interventions</strong>
                            <span>Flags at-risk students 6-8 weeks before performance decline.</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="content">
            <form id="studentForm">
                
                <h3 class="section-title">Academic Metrics</h3>
                <div class="form-cluster">
                    <div class="form-group">
                        <label>Weekly Study Hours</label>
                        <input type="number" name="Hours_Studied" min="0" max="80" step="0.5" required placeholder="e.g. 25">
                    </div>
                    <div class="form-group">
                        <label>Attendance Rate (%)</label>
                        <input type="number" name="Attendance" min="0" max="100" step="0.1" required placeholder="e.g. 95">
                    </div>
                    <div class="form-group">
                        <label>Previous Scores (%)</label>
                        <input type="number" name="Previous_Scores" min="0" max="100" step="0.1" required>
                    </div>
                    <div class="form-group">
                        <label>Tutoring Sessions</label>
                        <input type="number" name="Tutoring_Sessions" min="0" max="10" step="0.5" required>
                    </div>
                </div>

                <h3 class="section-title">Environment & Support</h3>
                <div class="form-cluster">
                    <div class="form-group">
                        <label>Parental Involvement (1-10)</label>
                        <input type="number" name="Parental_Involvement" min="1" max="10" required>
                    </div>
                    <div class="form-group">
                        <label>Access to Resources (1-10)</label>
                        <input type="number" name="Access_to_Resources" min="1" max="10" required>
                    </div>
                    <div class="form-group">
                        <label>Motivation Level (1-10)</label>
                        <input type="number" name="Motivation_Level" min="1" max="10" required>
                    </div>
                    <div class="form-group">
                        <label>Teacher Quality (1-10)</label>
                        <input type="number" name="Teacher_Quality" min="1" max="10">
                    </div>
                </div>

                <h3 class="section-title">Lifestyle Factors</h3>
                <div class="form-cluster">
                    <div class="form-group">
                        <label>Sleep Hours</label>
                        <input type="number" name="Sleep_Hours" min="0" max="12" step="0.5" required>
                    </div>
                    <div class="form-group">
                        <label>Physical Activity (hrs/wk)</label>
                        <input type="number" name="Physical_Activity" min="0" max="30" step="0.5" required>
                    </div>
                    <div class="form-group">
                        <label>Extracurricular (hrs/wk)</label>
                        <input type="number" name="Extracurricular_Activities" min="0" max="30" step="0.5" required>
                    </div>
                    <div class="form-group">
                        <label>Family Income</label>
                        <select name="Family_Income">
                            <option value="Low">Low</option>
                            <option value="Medium" selected>Medium</option>
                            <option value="High">High</option>
                        </select>
                    </div>
                </div>

                <h3 class="section-title">Demographics & Logistics</h3>
                <div class="form-cluster">
                    <div class="form-group">
                        <label>Internet Access</label>
                        <select name="Internet_Access">
                            <option value="Yes">Yes</option>
                            <option value="No">No</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>School Type</label>
                        <select name="School_Type">
                            <option value="Public">Public</option>
                            <option value="Private">Private</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Gender</label>
                        <select name="Gender">
                            <option value="Male">Male</option>
                            <option value="Female">Female</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Distance from Home (km)</label>
                        <input type="number" name="Distance_from_Home" step="0.1">
                    </div>
                </div>

                <button type="submit">Execute Intelligence Analysis</button>
                <div id="status"></div>
                <div id="result"></div>
            </form>
        </div>
    </div>

    <script>
        // Initialize Feather Icons
        document.addEventListener('DOMContentLoaded', function() {
            feather.replace();
        });

        document.getElementById('studentForm').onsubmit = async (e) => {
            e.preventDefault();
            const status = document.getElementById('status');
            const result = document.getElementById('result');
            const formData = new FormData(e.target);
            
            status.innerHTML = '‚óè Neural Network Calculating...';
            result.style.display = 'none';
            
            try {
                const response = await fetch('/predict_student', {
                    method: 'POST',
                    body: formData
                });
                
                const resultHtml = await response.text();
                const tempDiv = document.createElement('div');
                tempDiv.innerHTML = resultHtml;
                const resultContent = tempDiv.querySelector('#studentPredictionResult');
                
                if (response.ok) {
                    status.innerHTML = '';
                    // We wrap the result in a styled span for that "Big Number" look
                    result.innerHTML = `<span style="font-size:14px; color:#94a3b8">Predicted Performance Score</span><br><span class="score-value">${resultContent.innerHTML}</span>`;
                    result.style.display = 'block';
                } else {
                    status.innerHTML = `<span style="color:#ef4444">Critical Error: ${resultContent?.innerHTML || 'Analysis Failed'}</span>`;
                }
            } catch (error) {
                status.innerHTML = '<span style="color:#ef4444">Connection Interrupted.</span>';
            }
        };
    </script>
</body>
</html>